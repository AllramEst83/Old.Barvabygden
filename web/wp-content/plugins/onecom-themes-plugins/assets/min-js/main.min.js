(t=>{t(document).ready(function(){function o(e){fetch(oc_home_ajax_obj.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"oc_update_consent_status",consent_status:e})}).then(o=>o.json()).then(o=>{o.success?(t(".oc-consent-toast-container").show(),t("#oc-consent-toast-success .gv-toast").addClass("gv-visible"),setTimeout(function(){t("#oc-consent-toast-success .gv-toast").removeClass("gv-visible")},5e3),t("#oc-data-consent-banner").hide(),1===e&&t("#oc-data-consent-toggle").prop("checked",!0)):(t(".oc-consent-toast-container").show(),t("#oc-consent-toast-failure .gv-toast").addClass("gv-visible"),setTimeout(function(){t("#oc-consent-toast-failure .gv-toast").removeClass("gv-visible")},5e3))}).catch(o=>{t(".oc-consent-toast-container").show(),t("#oc-consent-toast-failure .gv-toast").addClass("gv-visible"),setTimeout(function(){t("#oc-consent-toast-failure .gv-toast").removeClass("gv-visible")},5e3)})}t("#oc-restart-tour").click(function(){console.info("Restart tour")}),t(".gv-notice-close.restart-tour").click(function(){let e=t(this);t.post(oc_home_ajax_obj.ajax_url,{_ajax_nonce:oc_home_ajax_obj.nonce,action:"oc_home_silence_tour",title:this.value},function(o){"success"===o.status&&e.parents(".gv-notice").fadeOut()})}),t("#oc-start-tour, #oc_login_masking_overlay_wrap .oc_welcome_modal_close").on("click",function(o){o.preventDefault(),t("#oc_login_masking_overlay").hide(),t(".loading-overlay.fullscreen-loader").removeClass("show");let e=!0;console.log(t(this)),t(this).hasClass("oc_welcome_modal_close")&&(e=!1);t.post(oc_home_ajax_obj.ajax_url,{action:"oc_close_welcome_modal",nonce:"asdsadsad"}).done(function(o){o&&e?window.location.href=oc_home_ajax_obj.home_url:console.log("modal closed")}).fail(function(){console.error("Failed to close the welcome modal.")})}),t(".oc_consent_modal_show").on("click",function(o){o.preventDefault(),t("#oc_data_consent_overlay").show()}),t("#oc-consent-modal-close, #oc_data_consent_overlay .oc_welcome_modal_close").on("click",function(o){o.preventDefault(),t("#oc_data_consent_overlay").hide(),t(".loading-overlay.fullscreen-loader").removeClass("show")}),t("#oc-consent-settings input[type='checkbox']").on("click",function(){o(t(this).is(":checked")?1:0)}),t(".oc-data-consent-decline").on("click",function(){o(0)}),t(".oc-data-consent-accept").on("click",function(){o(1)}),t(".oc-consent-toast-container .gv-toast-close").on("click",function(){t(".oc-consent-toast-container .gv-toast").removeClass("gv-visible")})})})(jQuery);